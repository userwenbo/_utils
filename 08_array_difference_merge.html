<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
     <!-- 
    1. difference(arr): 得到当前数组中所有不在arr中的元素组成的数组(不改变原数组)
          如: [1,3,5,7].difference([5, 8])  ==> [1, 3, 7]
    2. merge(arr): 将指定arr与当前arr的元素进行合并组成一个新的数组(不改变原数组)
          如: [1,3,5,7,5].merge([5, 8]) ==> [1, 3, 5, 7, 5, 8]
  -->
    <script>
          Array.prototype.difference=function(arr){
              if(this.length===0){
                return []
              }else if(arr.length===0){
                return [...this]
              }
              return this.filter(item=>arr.indexOf(item)===-1)  //过滤出在this中没有的元素
          }
          Array.prototype.merge=function(arr){
              const result=[...this]
              if(arr.length===0){
                 return result
              }
              if(this.length===0){
                return arr
              }
              arr.reduce((pre,item)=>{
                  if(pre.indexOf(item)===-1){
                      pre.push(item)
                      console.log(pre)
                  }
                  return pre                 
              },result) //作为第一次调用 callback 的第一个参数。
              return result
              
          }
    </script>
    <script>         
              console.log([1, 3, 5, 7].difference([5, 8]))
              console.log([1, 3, 5, 7, 5].merge([5, 8]))
    </script>
</body>
</html>