<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
     <script>
       /* 功能等同于new的工具函数 */
          function newInstance(Fn,...args) {
              //创建一个新的对象
              const obj={}
              const result=Fn.apply(obj,args)  //相当于: Obj.Fn()
              //如果构造函数的结果是一个对象
              if(result instanceof Object){
                  return result 
              }
              //如果不是，返回新创建的对象
              return obj
          }
           function Person(name,age) {
              this.name=name
              this.age=age 
              return {}
           }      
     </script>
     <script>
         const p=new Person('tom',12)
         console.log(p)
         const p2=newInstance(Person,'jack',13)
         console.log(p2)
     </script>
      <script>
        //  instanceOf的工具函数
        //  Type的显示原型对象在instance的原型链上
         function instanceOf(instance,Type) {
            while (instance.__proto__) {
              //如果找到的话,返回true,找不到继续往下找   
               if(instance.__proto__===Type.prototype){
                   return true   
               }//把instance重新赋值
               instance=instance.__proto__
            }
            return false
         }
         console.log(instanceOf(p,Object))
         console.log(instanceOf(p,Person))
      </script>
</body>
</html>